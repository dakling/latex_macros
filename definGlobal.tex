% \usepackage{xparse}
\usepackage{yfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[noabbrev]{cleveref}

% Default settings for all available options
% \ProvideDocumentCommand{\EinsteinNotationDiff}{}{\BooleanTrue} % affects second derivatives
% \ProvideDocumentCommand{\ShortHigherMoments}{}{\BooleanTrue} % abbreviate higher one-point velocity moments
% \ProvideDocumentCommand{\ShowArgsTwoPoint}{}{\BooleanFalse} % show arguments eg in H_ij(x,y) 

%% general settings
%allow double superscripts
\catcode`\^ = 13 \def^#1{\sp{#1}{}}
% \catcode`\_ = 13 \def_#1{\sb{#1}{}}

% use with align*-environment
\newcommand\donumber{\addtocounter{equation}{1}\tag{\theequation}}
%% low-level macros
% definition of a good looking bar
\NewDocumentCommand {\overbar} { m } {\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}

%% semantic macros
% real numbers
\NewDocumentCommand {\real} { o } { 
    \IfNoValueTF{#1}
        {\mathbb{R} }
        {\mathbb{R}^{#1} }}
% symbols to denote entire equations
\NewDocumentCommand {\nc} { m } { \mathcal{M}_{#1} }
\NewDocumentCommand {\ncm} { m } { \mean{\mathcal{M}_{#1}} }
\NewDocumentCommand {\ncf} { m } { \mathcal{M}_{#1}' }
% generic vector/tensor
\NewDocumentCommand{\vv} { m } { \bm{#1} }
\NewDocumentCommand{\xv} {  } { \vv{x} }
\NewDocumentCommand{\yv} {  } { \vv{y} }
\NewDocumentCommand{\te} { m } { \mathbf{#1} }
\NewDocumentCommand{\xt} {  } { \te{x} }
\NewDocumentCommand{\yt} {  } { \te{y} }
% "order of" symbol
\NewDocumentCommand {\order} { m g } { 
    \IfNoValueTF{#2}
    {\textit{O}(#1) }
    {\textit{O}(#1)^{#2} }
}
% evaluate (eg derivative) at position
\NewDocumentCommand {\atpos} { m m } { \bigg|_{{#1} = {#2}} }
% transformed (symmetries)
\NewDocumentCommand {\tra} {m} {\traAnco{#1}}
\NewDocumentCommand {\traAnco} {m} {#1 \rightarrow}
\NewDocumentCommand {\traAlt} {m} {{#1}^* }
\NewDocumentCommand {\traAltEq} {m} {{#1}^* = }
% representation of similarity variables
\NewDocumentCommand {\simvar} {m} {\widetilde{#1}}
% averaging
\ExplSyntaxOn
\NewDocumentCommand {\mean} { m } {
    \tl_set:Nn \l_tmpa_tl { #1 } % store argument in variable \l_tmpa_tl
    \int_compare:nTF { \tl_count:N \l_tmpa_tl = 1 } % check if the argument only contains a single value
        { \bar{#1} } % if there is only one letter, use the bar macro
        { \overline{#1}} % otherwise use the longer overline
    }
% derivatives
\NewDocumentCommand {\diffGeneric} { m m m g } {
    \IfNoValueTF {#4}
        { \frac{#3 #1}{#3 #2} }
        {\int_compare:nTF{ #4=2 } % second derivatives in Einstein notation
            {\IfBooleanTF{\EinsteinNotationDiff} % check if option is enabled
                {\frac{#3^{#4} #1}{#3 #2 #3 #2} }
                {\frac{#3^{#4} #1}{#3 #2^{#4}} }
            } 
            {{\frac{#3^{#4} #1}{#3 #2 ^{#4}}}} % higher derivatives, Einstein notation won't make sense in general
        }
}
\ExplSyntaxOff
% total derivative
\NewDocumentCommand {\dd} { m m g } { \diffGeneric{#1}{#2}{d}{#3} }
% partial derivative
\NewDocumentCommand {\pd} { m m g } { \diffGeneric{#1}{#2}{\partial}{#3} }
% material derivative
\NewDocumentCommand {\md} { m m g } { \diffGeneric{#1}{#2}{D}{#3} }
% derivatives without frac 
\NewDocumentCommand {\diffInline} { m m m  } { {#3 #1}/{#3 #2} }
\NewDocumentCommand {\did} { m m  } { \diffInline{#1}{#2}{d} }
\NewDocumentCommand {\pdi} { m m  } { \diffInline{#1}{#2}{\partial} }
\NewDocumentCommand {\mdi} { m m  } { \diffInline{#1}{#2}{D} }
% jet derivative
% \NewDocumentCommand {\jd} { m m  } { \underset{#2}{#1} }
\NewDocumentCommand {\jd} { m m  } { {#1}_{\!,#2} }
% for a long first arg it is nicer to write d/dx(z+longArg)
\NewDocumentCommand{\diffLongGeneric} {m m m g} {\diffGeneric{}{#2}{#3}{#4}{#1}}
\NewDocumentCommand {\dld} {m m g} { \diffLongGeneric{#1}{#2}{d}{#3} }
\NewDocumentCommand {\pdl} {m m g} { \diffLongGeneric{#1}{#2}{\partial}{#3} }
\NewDocumentCommand {\mdl} {m m g} { \diffLongGeneric{#1}{#2}{D}{#3} }

\NewDocumentCommand {\diffSecond} { m m m m } {
    \frac{{#1} ^2 {#2}}{{#1} {#3} {#1} {#4}}
}
% total derivative
\NewDocumentCommand {\ddSecond} { m m m } { \diffSecond{d}{#1}{#2}{#3} }
% partial derivative
\NewDocumentCommand {\pdSecond} { m m m } { \diffSecond{\partial}{#1}{#2}{#3} }
% material derivative
\NewDocumentCommand {\mdSecond} { m m m } { \diffSecond{D}{#1}{#2}{#3} }


% velocity moments
\NewDocumentCommand {\um} {g g g g} {
    \IfBooleanTF{\OnePointExponent}
    {
        \IfBooleanTF{\ShortHigherMoments}
        {\umShort{#1}{#2}{#3}{#4} }
        {\umLong{#1}{#2}{#3}{#4} }
    }
    {
        \IfBooleanTF{\ShortHigherMoments}
        {\umShortNoExp{#1}{#2}{#3}{#4} }
        {\umLongNoExp{#1}{#2}{#3}{#4} }
    }
}
\NewDocumentCommand {\umShortNoExp} {g g g g} {
    \IfNoValueTF{#1}
        { \mean{U} }
        {\IfNoValueTF{#2}
            {\mean{U}_{#1}}
            { \IfNoValueTF{#3} 
                {H_{#1 #2}}
                { \IfNoValueTF{#4}
                    {H_{#1 #2 #3}}
                {H_{#1 #2 #3 #4}}
            }
        }
    }
}
\NewDocumentCommand {\umShort} {g g g g} {
    \IfNoValueTF{#1}
        { \mean{U} }
        {\IfNoValueTF{#2}
            {\mean{U}_{#1}}
            { \IfNoValueTF{#3} 
                {H_{#1 #2}^0}
                { \IfNoValueTF{#4}
                    {H_{#1 #2 #3}^0}
                {H_{#1 #2 #3 #4}^0}
            }
        }
    }
}
\NewDocumentCommand {\umLong} {g g g g} {
    \IfNoValueTF{#1}
    { \umShort }
        {\IfNoValueTF{#2}
            {\umShort{#1}}
            { \IfNoValueTF{#3} 
                { \mean{ U_{#1} U_{#2} } }
                { \IfNoValueTF{#4}
                    {\mean{ U_{#1} U_{#2} U_{#3} }}
                {\mean{ U_{#1} U_{#2} U_{#3} U_{#4} }}
            } 
        }
    }
}
\NewDocumentCommand {\uf} {g g g g} {
    \IfBooleanTF{\OnePointExponent}
    {
        \IfBooleanTF{\ShortHigherMoments}
        {\ufShort{#1}{#2}{#3}{#4} }
        {\ufLong{#1}{#2}{#3}{#4} }
    }
    {
        \IfBooleanTF{\ShortHigherMoments}
        {\ufShortNoExp{#1}{#2}{#3}{#4} }
        {\ufLongNoExp{#1}{#2}{#3}{#4} }
    }
}
\NewDocumentCommand {\ufShortNoExp} {g g g g} {
    \IfNoValueTF{#1}
        { u }
        {\IfNoValueTF{#2}
            {u_{#1}}
            { \IfNoValueTF{#3} 
                {R_{#1 #2}}
                { \IfNoValueTF{#4}
                    {R_{#1 #2 #3}}
                {R_{#1 #2 #3 #4}}
            }
        }
    }
}
\NewDocumentCommand {\ufShort} {g g g g} {
    \IfNoValueTF{#1}
        { u }
        {\IfNoValueTF{#2}
            {u_{#1}}
            { \IfNoValueTF{#3} 
                {R_{#1 #2}^0}
                { \IfNoValueTF{#4}
                    {R_{#1 #2 #3}^0}
                {R_{#1 #2 #3 #4}^0}
            }
        }
    }
}
\NewDocumentCommand {\ufLong} {g g g g} {
    \IfNoValueTF{#1}
        { \ufShort }
        {\IfNoValueTF{#2}
            {\ufShort{#1}}
            { \IfNoValueTF{#3} 
                { \mean{ u_{#1} u_{#2} } }
                { \IfNoValueTF{#4}
                    {\mean{ u_{#1} u_{#2} u_{#3} }}
                {\mean{ u_{#1} u_{#2} u_{#3} u_{#4} }}
            } 
        }
    }
}
\RenewDocumentCommand {\pm} {} {\mean{P}}
\NewDocumentCommand {\pf} {} {p}
\ExplSyntaxOn
\NewDocumentCommand {\umTensor} { m } { 
    \int_compare:nTF { #1 = 1 } % 
    { \vv{\um} }
    { \vv{H^0} }
}
\NewDocumentCommand {\ufTensor} { m } { 
    \int_compare:nTF { #1 = 1 } % 
    { \vv{\uf} }
    { \vv{R^0} }
}
\NewDocumentCommand {\umTensorTwoPt} { m } { 
    \int_compare:nTF { #1 = 1 } % 
    { \vv{\um} }
    { \vv{H} }
}
\NewDocumentCommand {\ufTensorTwoPt} { m } { 
    \int_compare:nTF { #1 = 1 } % 
    { \vv{\uf} }
    { \vv{R} }
}
\ExplSyntaxOff
\NewDocumentCommand {\pum} { m } {
        \mean{PU_{#1}}^{0}
        % {\mean{PU_{#1}}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\upm} { m } {
        \mean{U_{#1}P}^{0}
        % {\mean{U_{#1}P}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\umpx} { m m } {
    \mean{U_{#1} \jd{P}{x_{#2}}}
        % {\mean{U_{#1}P}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\puf} { m } {
        \mean{pu_{#1}}^{0}
        % {\mean{pu_{#1}}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\upf} { m } {
        \mean{u_{#1}p}^{0}
        % {\mean{u_{#1}p}(\vv{#2},\vv{#3})}
}
% two-point correlations
% instantaneous approach
\NewDocumentCommand {\umtWithoutArgsShort} {g g g g o o o o} {
    \IfNoValueTF{#1}
            { \um }
            {\IfNoValueTF{#2}
                % {\um{#1} }
                {\um{#1}(\vv{#5}) }% always show argument for single variable
                { \IfNoValueTF{#3} 
                    {H_{#1 #2} }
                    { \IfNoValueTF{#4}
                        {H_{#1 #2 #3} }
                    {H_{#1 #2 #3 #4} }
                }
            }
        }
     }
\NewDocumentCommand {\umtWithArgsShort} {g g g g o o o o} {
        \IfNoValueTF{#1}
            { \um(\vv{#5}) }
            {\IfNoValueTF{#2}
                {\um{#1}(\vv{#5}) }
                { \IfNoValueTF{#3} 
                    {H_{#1 #2}(\vv{#5},\vv{#6}) }
                    { \IfNoValueTF{#4}
                        {H_{#1 #2 #3}(\vv{#5}, \vv{#6}, \vv{#7}) }
                        {H_{#1 #2 #3 #4}(\vv{#5}, \vv{#6}, \vv{#7}, \vv{#8}) }
                }
            }
        }
 }
\NewDocumentCommand {\umtShort} {g g g g o o o o} { 
    \IfNoValueTF{#5}
    { \umtWithoutArgsShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
    { \IfBooleanTF{\ShowArgsTwoPoint}
        { \umtWithArgsShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
        { \umtWithoutArgsShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
    }
}
\NewDocumentCommand {\umtWithoutArgsLong} {g g g g o o o o} {
    \IfNoValueTF{#1}
            { \um }
            {\IfNoValueTF{#2}
                {\um{#1} }
                {\um{#1}(\vv{#5}) }% always show argument for single variable
                { \IfNoValueTF{#3} 
                    { \mean{ U_{#1} U_{#2} } }
                    { \IfNoValueTF{#4}
                        { \mean{U_{#1} U_{#2} U_{#3}} }
                        { \mean{U_{#1} U_{#2} U_{#3} U_{#4}} }
                }
            }
        }
     }
\NewDocumentCommand {\umtWithArgsLong} {g g g g o o o o} {
        \IfNoValueTF{#1}
            { \um(\vv{#5}) }
            {\IfNoValueTF{#2}
                {\um{#1}(\vv{#5}) }
                { \IfNoValueTF{#3} 
                    { \mean{ U_{#1}(\vv{#5}) U_{#2}(\vv{#6})} }
                    { \IfNoValueTF{#4}
                        { \mean{ U_{#1}(\vv{#5}) U_{#2}(\vv{#6}) U_{#3}(\vv{#7})} }
                        { \mean{ U_{#1}(\vv{#5}) U_{#2}(\vv{#6}) U_{#3}(\vv{#7}) U_{#4}(\vv{#8})} }
                }
            }
        }
 }
\NewDocumentCommand {\umtLong} {g g g g o o o o} { 
    \IfNoValueTF{#5}
    { \umtWithoutArgsLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
    { \IfBooleanTF{\ShowArgsTwoPoint}
        { \umtWithArgsLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
        { \umtWithoutArgsLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
    }
}
 \NewDocumentCommand {\umt} {g g g g o o o o} { 
     \IfBooleanTF{\ShortHigherMoments}
     {\umtShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8]}
     {\umtLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8]}
 }
% fluctuation approach
\NewDocumentCommand {\uftWithoutArgsShort} {g g g g} {
    \IfNoValueTF{#1}
            { \uf }
            {\IfNoValueTF{#2}
                {\uf{#1} }
                { \IfNoValueTF{#3} 
                    {R_{#1 #2} }
                    { \IfNoValueTF{#4}
                        {R_{#1 #2 #3} }
                    {R_{#1 #2 #3 #4} }
                }
            }
        }
     }
\NewDocumentCommand {\uftWithArgsShort} {g g g g o o o o} {
        \IfNoValueTF{#1}
            { \uf(\vv{#5}) }
            {\IfNoValueTF{#2}
                {\uf{#1}(\vv{#5}) }
                { \IfNoValueTF{#3} 
                    {R_{#1 #2}(\vv{#5},\vv{#6}) }
                    { \IfNoValueTF{#4}
                        {R_{#1 #2 #3}(\vv{#5}, \vv{#6}, \vv{#7}) }
                        {R_{#1 #2 #3 #4}(\vv{#5}, \vv{#6}, \vv{#7}, \vv{#8}) }
                }
            }
        }
 }
\NewDocumentCommand {\uftShort} {g g g g o o o o} { 
    \IfNoValueTF{#5}
    { \uftWithoutArgsShort{#1}{#2}{#3}{#4} }
    { \IfBooleanTF{\ShowArgsTwoPoint}
        { \uftWithArgsShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
        { \uftWithoutArgsShort{#1}{#2}{#3}{#4} }
    }
}
\NewDocumentCommand {\uftWithoutArgsLong} {g g g g} {
    \IfNoValueTF{#1}
            { \uf }
            {\IfNoValueTF{#2}
                {\uf{#1} }
                { \IfNoValueTF{#3} 
                    { \mean{ u_{#1} u_{#2} } }
                    { \IfNoValueTF{#4}
                        { \mean{U_{#1} u_{#2} u_{#3}} }
                        { \mean{U_{#1} u_{#2} u_{#3} u_{#4}} }
                }
            }
        }
     }
\NewDocumentCommand {\uftWithArgsLong} {g g g g o o o o} {
        \IfNoValueTF{#1}
            { \uf(\vv{#5}) }
            {\IfNoValueTF{#2}
                {\uf{#1}(\vv{#5}) }
                { \IfNoValueTF{#3} 
                    { \mean{ u_{#1}(\vv{#5}) u_{#2}(\vv{#6})} }
                    { \IfNoValueTF{#4}
                        { \mean{ u_{#1}(\vv{#5}) u_{#2}(\vv{#6}) u_{#3}(\vv{#7})} }
                        { \mean{ u_{#1}(\vv{#5}) u_{#2}(\vv{#6}) u_{#3}(\vv{#7}) u_{#4}(\vv{#8})} }
                }
            }
        }
 }
\NewDocumentCommand {\uftLong} {g g g g o o o o} { 
    \IfNoValueTF{#5}
    { \uftWithoutArgsLong{#1}{#2}{#3}{#4} }
    { \IfBooleanTF{\ShowArgsTwoPoint}
        { \uftWithArgsLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8] }
        { \uftWithoutArgsLong{#1}{#2}{#3}{#4} }
    }
}
 \NewDocumentCommand {\uft} {g g g g o o o o} { 
     \IfBooleanTF{\ShortHigherMoments}
     {\uftShort{#1}{#2}{#3}{#4}[#5][#6][#7][#8]}
     {\uftLong{#1}{#2}{#3}{#4}[#5][#6][#7][#8]}
 }
\NewDocumentCommand {\puft} { m o o } {
    \IfNoValueTF{#2}
        {\mean{pu_{#1}}}
        {\mean{pu_{#1}}}
        % {\mean{pu_{#1}}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\upft} { m o o } {
    \IfNoValueTF{#2}
        {\mean{u_{#1}p}}
        {\mean{u_{#1}p}}
        % {\mean{u_{#1}p}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\pumt} { m o o } {
    \IfNoValueTF{#2}
        {\mean{PU_{#1}}}
        {\mean{PU_{#1}}}
        % {\mean{PU_{#1}}(\vv{#2},\vv{#3})}
}
\NewDocumentCommand {\upmt} { m o o } {
    \IfNoValueTF{#2}
        {\mean{U_{#1}P}}
        {\mean{U_{#1}P}}
        % {\mean{U_{#1}P}(\vv{#2},\vv{#3})}
}
%LES
\NewDocumentCommand{\ufilter} {g g g g} {
    \IfNoValueTF{#1}
        { \tilde{U} }
        {\IfNoValueTF{#2}
            {\tilde{U}_{#1}}
            { \IfNoValueTF{#3} 
                {\tau_{#1 #2}}
                { \IfNoValueTF{#4}
                    {\tau_{#1 #2 #3}}
                {H_{#1 #2 #3 #4}}
            }
        }
    }
}
\NewDocumentCommand{\pfilter} {} {\tilde{P}}
% turbulent viscosity
% \NewDocumentCommand {\nut} {} {\nu_{\text{turb}}}
\NewDocumentCommand {\nut} {} {\nu_{t}}
% artificial velocity 
\NewDocumentCommand {\ua} { g } { 
    \IfNoValueTF{#1}
    {\mathfrak{U}} 
    {\mathfrak{U}_{#1}} 
} 
\NewDocumentCommand {\pa} { g } { \mathfrak{P} }
\NewDocumentCommand {\ka} { g } { k_{\theta} }
\ProvideDocumentCommand {\ualpha} { g } { 
    \IfNoValueTF{#1}
        {v} 
        {v_{#1}} 
} 
% k- eps - model
\NewDocumentCommand {\kepsmodel} {} {{\(k\)-\(\varepsilon\)-model}}
% k- omega - model
\NewDocumentCommand {\komegamodel} {} {{\(k\)-\(\omega\)-model}}
%Symmetry generators
\NewDocumentCommand {\infGen} { g } {
    \IfNoValueTF{#1} {X}
        {X_{#1}}
    }
    \NewDocumentCommand {\infGenT} {} {\infGen{t}}
\NewDocumentCommand {\infGenX} { g } {
    \IfNoValueTF{#1} 
    {\infGen{x_i}}
    {\infGen{x_{#1}}}
}
\NewDocumentCommand {\infGenGal} { g } {
    \IfNoValueTF{#1} 
    {\infGen{\text{Gal}}}
    {\infGen{\text{Gal}_{#1}}}
}
\NewDocumentCommand {\infGenRot} {} {\infGen{\text{rot}_{\alpha}}}
\NewDocumentCommand {\infGenP} {} {\infGen{P}}
\NewDocumentCommand {\infGenScI} {} {\infGen{\text{Sc},1}}
\NewDocumentCommand {\infGenScII} {} {\infGen{\text{Sc},2}}
\NewDocumentCommand {\infGenScNs} {} {\infGen{\text{Sc,ns}}}
\NewDocumentCommand {\infGenScStat} {} {\infGen{\text{Sc,stat}}}
\NewDocumentCommand {\infGenTransStat} { m } {X_{\text{Tr,stat,#1}}}
\NewDocumentCommand {\infGenTransStatI} { o } {%
    \IfNoValueTF{#1}
        {X_{\text{Tr,stat},1}}
        {X_{\text{Tr,stat},1, #1 }}}
\NewDocumentCommand {\infGenTransStatII} { o } {%
    \IfNoValueTF{#1}
        {X_{\text{Tr,stat},2}}
        {X_{\text{Tr,stat},2, #1 }}}
%Global form
\NewDocumentCommand {\gloSymm} { g } {
    \IfNoValueTF{#1} {T}
        {T_{#1}}
}
\NewDocumentCommand {\gloSymmT} {} {\gloSymm{t}}
\NewDocumentCommand {\gloSymmX} { g } {
    \IfNoValueTF{#1}
        {\gloSymm{x_i}}
        {\gloSymm{x_{#1}}}
}
\NewDocumentCommand {\gloSymmGal} { g } {
    \IfNoValueTF{#1}
        {\gloSymm{\text{Gal}_{i}}}
        {\gloSymm{\text{Gal}_{#1}}}
}
\NewDocumentCommand {\gloSymmRot} {} {\gloSymm{\text{rot}_{\alpha}}}
\NewDocumentCommand {\gloSymmP} {} {\gloSymm{P}}
\NewDocumentCommand {\gloSymmScI} {} {\gloSymm{\text{Sc},1}}
\NewDocumentCommand {\gloSymmScII} {} {\gloSymm{\text{Sc},2}}
\NewDocumentCommand {\gloSymmScNs} {} {\gloSymm{\text{Sc,ns}}}
\NewDocumentCommand {\gloSymmScStat} {} {\gloSymm{\text{Sc,stat}}}
\NewDocumentCommand {\gloSymmTransStat} { m } {T_{\text{Tr,stat,#1}}}
\NewDocumentCommand {\gloSymmTransStatI} { o } {%
    \IfNoValueTF{#1}
        {T_{\text{Tr,stat},1}}
        {T_{\text{Tr,stat},1, #1 }}}
\NewDocumentCommand {\gloSymmTransStatII} { o } {%
    \IfNoValueTF{#1}
        {T_{\text{Tr,stat},2}}
        {T_{\text{Tr,stat},2, #1 }}}

\NewDocumentCommand {\lagX} { m } {\xi_{#1}}
% group parameter
\NewDocumentCommand { \grp }{ g } { 
    \IfNoValueTF{#1}
    {a}
    {a_{#1}}
}
\NewDocumentCommand { \expgrp }{ g } { 
    \IfBooleanTF{\GroupExpSimplified}
    {a}
    {e^{#1 a}}
}
% model for a term
\NewDocumentCommand { \model } { m } {\mathcal{M}\left(#1\right)}

% cite author's name in possesive form
% \NewDocumentCommand { \posscite } { m } { \citeauthor }
\newcommand{\crefrangeconjunction}{--}
